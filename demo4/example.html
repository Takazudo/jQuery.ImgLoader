<!doctype html>
<html class="no-js" lang="ja">
<head>
<meta charset="utf-8">
<title></title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="../jquery.imgloader.js"></script>
<style>
* {
  margin:0;
  padding:0;
  border:0;
}
body {
  padding:15px;
}
h1 {
  padding:0 0 20px;
}
p {
  padding:0 0 20px;
}
pre {
  border:1px solid #000;
  padding:10px;
  margin:0 0 20px;
}
.img{
  background:#999;
  margin:10px;
  border-spacing:0;
  float:left;
}
.img td{
  text-align:center;
  vertical-align:middle;
}
img {
  display:block;
  margin:0 auto;
}
</style>
<script>
$(function(){

  var test = function(src, containerWidth, containerHeight) {
    var rectWH = {
      width: containerWidth,
      height: containerHeight
    };
    $.calcRectFitImgWH(src, rectWH).done(function(res){
      var src = '<table class="img"><tr><td></td></tr></table>';
      var $img = res.img;
      var $container = $(src).css({
        width: containerWidth,
        height: containerHeight
      });
      $img.css({
        width: res.width,
        height: res.height
      });
      $('td', $container).append($img);
      $('body').append($container);
    });
  }

  test('../imgs/9.jpg', 250, 250);
  test('../imgs/9.jpg', 100, 100);
  test('../imgs/9.jpg', 150, 100);
  test('../imgs/9.jpg', 200, 100);
  test('../imgs/9.jpg', 250, 100);
  test('../imgs/9.jpg', 300, 100);
  test('../imgs/9.jpg', 100, 150);
  test('../imgs/9.jpg', 100, 200);
  test('../imgs/9.jpg', 100, 250);
  test('../imgs/9.jpg', 100, 300);
  test('../imgs/9.jpg', 100, 350);

  test('../imgs/10.jpg', 250, 250);
  test('../imgs/10.jpg', 100, 100);
  test('../imgs/10.jpg', 150, 100);
  test('../imgs/10.jpg', 200, 100);
  test('../imgs/10.jpg', 250, 100);
  test('../imgs/10.jpg', 300, 100);
  test('../imgs/10.jpg', 100, 150);
  test('../imgs/10.jpg', 100, 200);
  test('../imgs/10.jpg', 100, 250);
  test('../imgs/10.jpg', 100, 300);
  test('../imgs/10.jpg', 100, 350);

});
</script>
</head>
<body>
<h1>$.calcRectFitImgWH</h1>
<p>$.calcRectFitImgWH returns rect fit width/height of thrown img.</p>
<pre>$.calcRectFitImgWH('foobar.jpg', {
  width: 400, // rect's width
  height: 400 // rect's height
}).done(function(res) {
  console.log(res.width);
  console.log(res.height);
  $('#somewhere').append(res.img);
});</pre>
</body>
</html>
